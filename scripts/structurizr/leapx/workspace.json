{
  "id" : 1,
  "name" : "SystemLandscape",
  "revision" : 0,
  "lastModifiedDate" : "2021-12-07T03:50:23Z",
  "lastModifiedAgent" : "structurizr-web/2561/diagram",
  "properties" : {
    "structurizr.dsl" : "d29ya3NwYWNlICJTeXN0ZW1MYW5kc2NhcGUiICIiewogICAgbW9kZWwgewogICAgICAgIHVzZXIgPSBwZXJzb24gIkNsaWVudCIgIkJhbmsgQ2xpZW50IiAiQ3VzdG9tZXIiCiAgICAgICAgZnJvbnRFbmQgPSBzb2Z0d2FyZVN5c3RlbSAiVXNlciBJbnRlcmZhY2UiICJXZWIgQXBwIG9yIE1vYmlsZSBBcHAiICJGcm9udCBFbmQiCiAgICAgICAgZ3JhcGhRTCA9IHNvZnR3YXJlU3lzdGVtICJHcmFwaFFMIEdhdGV3YXkiICJHcmFwaFFMIEdhdGV3YXkiICJHcmFwaFFMIgogICAgICAgIGF1dGhTZXJ2aWNlID0gc29mdHdhcmVTeXN0ZW0gIkF1dGggU2VydmljZSIgIkF1dGhlbnRpY2F0ZXMgUmVxdWVzdCIgIkJhY2sgRW5kIgogICAgICAgIAogICAgICAgIGZpbGVNYW5hZ2VtZW50ID0gc29mdHdhcmVTeXN0ZW0gIkZpbGUgTWFuYWdlbWVudCBTeXN0ZW0iICJGaWxlIE1hbmFnZW1lbnQgU3lzdGVtIiAiQmFjayBFbmQiewogICAgICAgICAgICB1cGxvYWRTZXJ2aWNlID0gY29udGFpbmVyICJVcGxvYWQgU2VydmljZSBDb250YWluZXIiICJIYW5kbGVzIGFsbCB1cGxvYWQgbWVjaGFuaXNtIGFuZCBtZXRhZGF0YSBnZW5lcmF0aW9uIiAiTmVzdEpTIiAiQmFjayBFbmQiewogICAgICAgICAgICAgICAgdXBsb2FkU2VydmljZUNvbnRyb2xsZXIgPSBjb21wb25lbnQgIlVwbG9hZCBTZXJ2aWNlIENvbnRyb2xsZXIiICJVcGxvYWQgQ29udHJvbGxlciIgIk5lc3RKUyIgIkJhY2sgRW5kIgogICAgICAgICAgICAgICAgZW5jcnlwdGlvbkFnZW50ID0gY29tcG9uZW50ICJFbmNyeXB0aW9uIENvbnRyb2xsZXIiICJBbGxvd3MgdXNlciB0byBlbmNyeXB0IGN1c3RvbSB3YXkiICJOZXN0IEpTL0dQRy9TU0giICJCYWNrIEVuZCIKICAgICAgICAgICAgICAgIGxpZmVDeWNsZU1hbmFnZW1lbnQgPSBjb21wb25lbnQgIkxpZmUgQ3ljbGUgQ29udHJvbGxlciIgIkhhbmRsZXMgZXhwaXJ5IGFuZCBjbGVhbnVwIG1lY2hhbmlzbXMgdmVyc3VzIG9mZmxvYWRpbmcgdG8gY2xvdWQgcHJvdmlkZXIiICJXb3JrZXIiICJFdmVudCBEcml2ZW4iCiAgICAgICAgICAgIH0KICAgICAgICAgICAgZmlsZU1hbmFnZW1lbnREYXRhYmFzZSA9IGNvbnRhaW5lciAiVXBsb2FkIERCIiAiQ29udGFpbnMgYWxsIG1ldGFkYXRhIG9mIGFsbCBmaWxlcyBtYW5hZ2VkIiAiUG9zdGdyZXMiICJEYXRhYmFzZSIKICAgICAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgIH0KICAgICAgICBvY3JTZXJ2aWNlID0gc29mdHdhcmVTeXN0ZW0gIk9DUiBTZXJ2aWNlIiAiT0NSIFNlcnZpY2UiICJCYWNrIEVuZCJ7CiAgICAgICAgICAgICMgb2NyU2VydmljZUNvbnRhaW5lciA9IGNvbnRhaW5lciAiT0NSIFNlcnZpY2UiICJIYW5kbGVzIE9DUiByZXF1ZXN0IiAiTmVzdEpTIiAiQmFjayBFbmQiCiAgICAgICAgfQogICAgICAgICMgb2NyUHJvdmlkZXIgPSBzb2Z0d2FyZVN5c3RlbSAiM3JkIFBhcnR5IE9DUiBQcm92aWRlciIgIkdvb2dsZSBsZW5zIiAiRXh0ZXJuYWwiCiAgICAgICAgCiAgICAKICAgICAgICBjbG91ZFByb3ZpZGVyID0gc29mdHdhcmVTeXN0ZW0gIjNyZCBQYXJ0eSBGaWxlIFN0b3JhZ2UgQ2xvdWQgUHJvdmlkZXIiICJBV1MvQXp1cmUvQWRvYmUgRmlsZSBNYW5hZ2VyIiAiRXh0ZXJuYWwiCiAgICAgICAgCiAgICAgICAgIyBUb3AgTGV2ZWwgUmVsYXRpb25zaGlwcwogICAgICAgIHVzZXIgLT4gZnJvbnRFbmQgIjEuIGFjY2VzcyIKICAgICAgICBmcm9udEVuZCAtPiBncmFwaFFMICIyLiBtdXRhdGlvbjogdXBsb2FkRmlsZSIKICAgICAgICBncmFwaFFMIC0+IGF1dGhTZXJ2aWNlICIzLiB2YWxpZGF0ZSB1c2VyIHJlcXVlc3QiICJIVFRQIFBPU1QiCiAgICAgICAgZ3JhcGhRTCAtPiBmaWxlTWFuYWdlbWVudCAiNC4gdXBsb2FkcyBmaWxlcyIKICAgICAgICBmaWxlTWFuYWdlbWVudCAtPiBjbG91ZFByb3ZpZGVyICI1LiBzdG9yZXMgZmlsZXMgaW4iICJtdWx0aXBhcnQgdXBsb2FkIiAgICAgCiAgICAgICAgZmlsZU1hbmFnZW1lbnQgLT4gZ3JhcGhRTCAiNi4gZ2V0cyBmaWxlIG1ldGFkYXRhIiAiSFRUUCBHRVQiCiAgICAgICAgZ3JhcGhRTCAtPiBvY3JTZXJ2aWNlICI3LiBnZXQgT0NSIFJlcXVlc3QiICJFdmVudCBEcml2ZW4iCiAgICAgICAgb2NyU2VydmljZSAtPiBjbG91ZFByb3ZpZGVyICI4LiB2YWxpZGF0ZXMgZmlsZXMiCiAgICAgICAgb2NyU2VydmljZSAtPiBncmFwaFFMICI5LiBPQ1IgRGV0YWlscyIKICAgICAgICBncmFwaFFMIC0+IGZyb250RW5kICIxMC4gUmV0dXJuIGZpbGUgYW5kIE9DUiBkZXRhaWxzIgogICAgICAgIAogICAgICAgIAogICAgICAgICMgQ29udGFpbmVyIFJlbGF0aW9uc2hpcHMKICAgICAgICB1cGxvYWRTZXJ2aWNlIC0+IGNsb3VkUHJvdmlkZXIgInN0b3JlcyBmaWxlcyBpbiIgIm11bHRpcGFydCB1cGxvYWQiCiAgICAgICAgZ3JhcGhRTCAtPiB1cGxvYWRTZXJ2aWNlICJ1cGxvYWRzIGZpbGVzIiAibXVsdGlwYXJ0IHVwbG9hZCIKICAgICAgICBncmFwaFFMIC0+IGVuY3J5cHRpb25BZ2VudCAidXBsb2FkIGtleXMiICJTU0gvR1BHIgogICAgICAgIGxpZmVDeWNsZU1hbmFnZW1lbnQgLT4gY2xvdWRQcm92aWRlciAicGVyZm9ybXMgY2xlYW51cCIgImJhdGNoIHByb2Nlc3NpbmciCiAgICAgICAgdXBsb2FkU2VydmljZUNvbnRyb2xsZXIgLT4gZmlsZU1hbmFnZW1lbnREYXRhYmFzZSAic2F2ZXMgZmlsZSBtZXRhZGF0YSIgIk9STSIKICAgICAgICBmaWxlTWFuYWdlbWVudERhdGFiYXNlIC0+IGxpZmVDeWNsZU1hbmFnZW1lbnQgIkdldHMgZmlsZSBtZXRhZGF0YSIKICAgICAgICB1cGxvYWRTZXJ2aWNlQ29udHJvbGxlciAtPiBlbmNyeXB0aW9uQWdlbnQgIkVuY3J5cHRzIGZpbGUiCiAgICAgICAgCiAgICAgICAgIyBvY3JTZXJ2aWNlQ29udGFpbmVyIC0+IG9jclByb3ZpZGVyICJzZW5kIHJlcXVlc3RzIgogICAgfQoKICAgIHZpZXdzIHsKICAgICAgICBzeXN0ZW1sYW5kc2NhcGUgIlN5c3RlbUxhbmRzY2FwZSIgewogICAgICAgICAgICBpbmNsdWRlICoKICAgICAgICAgICAgYXV0b2xheW91dCB0YgogICAgICAgIH0KICAgICAgICAgICAgICAKICAgICAgICAgY29tcG9uZW50IHVwbG9hZFNlcnZpY2UgIkZpbGVfTWFuYWdlbWVudF9Db250cm9sbGVycyIgewogICAgICAgICAgICAgICAgICAgIGluY2x1ZGUgKgogICAgICAgICAgICAgICAgICAgIGF1dG9MYXlvdXQgbHIKICAgICAgICAgfQogICAgICAgIAogICAgICAgIAogICAgICAgIHN0eWxlcyB7CiAgICAgICAgICAgIGVsZW1lbnQgIkN1c3RvbWVyInsKICAgICAgICAgICAgICAgIHNoYXBlIFBlcnNvbgogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsZW1lbnQgIkdyYXBoUUwiewogICAgICAgICAgICAgICAgc2hhcGUgSGV4YWdvbgogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsZW1lbnQgIkZyb250IEVuZCIgewogICAgICAgICAgICAgICAgc2hhcGUgV2ViQnJvd3NlcgogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsZW1lbnQgIkV2ZW50IERyaXZlbiIgewogICAgICAgICAgICAgICAgc2hhcGUgUm91bmRlZEJveAogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsZW1lbnQgIkV4dGVybmFsInsKICAgICAgICAgICAgICAgIHNoYXBlIENvbXBvbmVudAogICAgICAgICAgICAgICAgYmFja2dyb3VuZCAjODY4ZTk2CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxlbWVudCAiRGF0YWJhc2UiIHsKICAgICAgICAgICAgICAgIHNoYXBlIEN5bGluZGVyCiAgICAgICAgICAgIH0KCSAgICAgICAgZWxlbWVudCAiU29mdHdhcmUgU3lzdGVtIiB7CiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kICMxMTY4YmQKICAgICAgICAgICAgICAgIGNvbG9yICNmZmZmZmYKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfQoKCg=="
  },
  "configuration" : { },
  "model" : {
    "people" : [ {
      "id" : "1",
      "tags" : "Element,Person,Customer",
      "name" : "Client",
      "description" : "Bank Client",
      "relationships" : [ {
        "id" : "13",
        "tags" : "Relationship",
        "sourceId" : "1",
        "destinationId" : "2",
        "description" : "1. access"
      } ],
      "location" : "Unspecified"
    } ],
    "softwareSystems" : [ {
      "id" : "4",
      "tags" : "Element,Software System,Back End",
      "name" : "Auth Service",
      "description" : "Authenticates Request",
      "location" : "Unspecified"
    }, {
      "id" : "5",
      "tags" : "Element,Software System,Back End",
      "name" : "File Management System",
      "description" : "File Management System",
      "relationships" : [ {
        "id" : "18",
        "tags" : "Relationship",
        "sourceId" : "5",
        "destinationId" : "3",
        "description" : "6. gets file metadata",
        "technology" : "HTTP GET"
      }, {
        "id" : "17",
        "tags" : "Relationship",
        "sourceId" : "5",
        "destinationId" : "12",
        "description" : "5. stores files in",
        "technology" : "multipart upload"
      } ],
      "location" : "Unspecified",
      "containers" : [ {
        "id" : "6",
        "tags" : "Element,Container,Back End",
        "name" : "Upload Service Container",
        "description" : "Handles all upload mechanism and metadata generation",
        "relationships" : [ {
          "id" : "28",
          "tags" : "Relationship",
          "sourceId" : "6",
          "destinationId" : "10",
          "description" : "saves file metadata",
          "technology" : "ORM"
        }, {
          "id" : "23",
          "tags" : "Relationship",
          "sourceId" : "6",
          "destinationId" : "12",
          "description" : "stores files in",
          "technology" : "multipart upload"
        } ],
        "technology" : "NestJS",
        "components" : [ {
          "id" : "7",
          "tags" : "Element,Component,Back End",
          "name" : "Upload Service Controller",
          "description" : "Upload Controller",
          "relationships" : [ {
            "id" : "27",
            "tags" : "Relationship",
            "sourceId" : "7",
            "destinationId" : "10",
            "description" : "saves file metadata",
            "technology" : "ORM"
          }, {
            "id" : "31",
            "tags" : "Relationship",
            "sourceId" : "7",
            "destinationId" : "8",
            "description" : "Encrypts file"
          } ],
          "technology" : "NestJS",
          "size" : 0
        }, {
          "id" : "9",
          "tags" : "Element,Component,Event Driven",
          "name" : "Life Cycle Controller",
          "description" : "Handles expiry and cleanup mechanisms versus offloading to cloud provider",
          "relationships" : [ {
            "id" : "26",
            "tags" : "Relationship",
            "sourceId" : "9",
            "destinationId" : "12",
            "description" : "performs cleanup",
            "technology" : "batch processing"
          } ],
          "technology" : "Worker",
          "size" : 0
        }, {
          "id" : "8",
          "tags" : "Element,Component,Back End",
          "name" : "Encryption Controller",
          "description" : "Allows user to encrypt custom way",
          "technology" : "Nest JS/GPG/SSH",
          "size" : 0
        } ]
      }, {
        "id" : "10",
        "tags" : "Element,Container,Database",
        "name" : "Upload DB",
        "description" : "Contains all metadata of all files managed",
        "relationships" : [ {
          "id" : "29",
          "tags" : "Relationship",
          "sourceId" : "10",
          "destinationId" : "9",
          "description" : "Gets file metadata"
        }, {
          "id" : "30",
          "tags" : "Relationship",
          "sourceId" : "10",
          "destinationId" : "6",
          "description" : "Gets file metadata"
        } ],
        "technology" : "Postgres"
      } ]
    }, {
      "id" : "2",
      "tags" : "Element,Software System,Front End",
      "name" : "User Interface",
      "description" : "Web App or Mobile App",
      "relationships" : [ {
        "id" : "14",
        "tags" : "Relationship",
        "sourceId" : "2",
        "destinationId" : "3",
        "description" : "2. mutation: uploadFile"
      } ],
      "location" : "Unspecified"
    }, {
      "id" : "11",
      "tags" : "Element,Software System,Back End",
      "name" : "OCR Service",
      "description" : "OCR Service",
      "relationships" : [ {
        "id" : "21",
        "tags" : "Relationship",
        "sourceId" : "11",
        "destinationId" : "3",
        "description" : "9. OCR Details"
      }, {
        "id" : "20",
        "tags" : "Relationship",
        "sourceId" : "11",
        "destinationId" : "12",
        "description" : "8. validates files"
      } ],
      "location" : "Unspecified"
    }, {
      "id" : "12",
      "tags" : "Element,Software System,External",
      "name" : "3rd Party File Storage Cloud Provider",
      "description" : "AWS/Azure/Adobe File Manager",
      "location" : "Unspecified"
    }, {
      "id" : "3",
      "tags" : "Element,Software System,GraphQL",
      "name" : "GraphQL Gateway",
      "description" : "GraphQL Gateway",
      "relationships" : [ {
        "id" : "15",
        "tags" : "Relationship",
        "sourceId" : "3",
        "destinationId" : "4",
        "description" : "3. validate user request",
        "technology" : "HTTP POST"
      }, {
        "id" : "19",
        "tags" : "Relationship",
        "sourceId" : "3",
        "destinationId" : "11",
        "description" : "7. get OCR Request",
        "technology" : "Event Driven"
      }, {
        "id" : "16",
        "tags" : "Relationship",
        "sourceId" : "3",
        "destinationId" : "5",
        "description" : "4. uploads files"
      }, {
        "id" : "24",
        "tags" : "Relationship",
        "sourceId" : "3",
        "destinationId" : "6",
        "description" : "uploads files",
        "technology" : "multipart upload"
      }, {
        "id" : "25",
        "tags" : "Relationship",
        "sourceId" : "3",
        "destinationId" : "8",
        "description" : "upload keys",
        "technology" : "SSH/GPG"
      }, {
        "id" : "22",
        "tags" : "Relationship",
        "sourceId" : "3",
        "destinationId" : "2",
        "description" : "10. Return file and OCR details"
      } ],
      "location" : "Unspecified"
    } ]
  },
  "documentation" : { },
  "views" : {
    "systemLandscapeViews" : [ {
      "key" : "SystemLandscape",
      "paperSize" : "A3_Portrait",
      "dimensions" : {
        "width" : 2516,
        "height" : 2616
      },
      "automaticLayout" : {
        "implementation" : "Graphviz",
        "rankDirection" : "TopBottom",
        "rankSeparation" : 300,
        "nodeSeparation" : 300,
        "edgeSeparation" : 0,
        "vertices" : false
      },
      "enterpriseBoundaryVisible" : true,
      "elements" : [ {
        "id" : "11",
        "x" : 1133,
        "y" : 207
      }, {
        "id" : "12",
        "x" : 804,
        "y" : 2107
      }, {
        "id" : "1",
        "x" : 420,
        "y" : 807
      }, {
        "id" : "2",
        "x" : 395,
        "y" : 1507
      }, {
        "id" : "3",
        "x" : 1133,
        "y" : 857
      }, {
        "id" : "4",
        "x" : 1145,
        "y" : 1507
      }, {
        "id" : "5",
        "x" : 1895,
        "y" : 1507
      } ],
      "relationships" : [ {
        "id" : "18",
        "vertices" : [ {
          "x" : 1832,
          "y" : 1236
        } ]
      }, {
        "id" : "17"
      }, {
        "id" : "16",
        "vertices" : [ {
          "x" : 1645,
          "y" : 1471
        } ]
      }, {
        "id" : "15"
      }, {
        "id" : "14",
        "vertices" : [ {
          "x" : 1084,
          "y" : 1470
        } ]
      }, {
        "id" : "13"
      }, {
        "id" : "22",
        "vertices" : [ {
          "x" : 893,
          "y" : 1238
        } ]
      }, {
        "id" : "21",
        "vertices" : [ {
          "x" : 1208,
          "y" : 704
        } ]
      }, {
        "id" : "20",
        "vertices" : [ {
          "x" : 270,
          "y" : 807
        }, {
          "x" : 245,
          "y" : 1507
        }, {
          "x" : 245,
          "y" : 1807
        } ]
      }, {
        "id" : "19",
        "vertices" : [ {
          "x" : 1508,
          "y" : 704
        } ]
      } ]
    } ],
    "componentViews" : [ {
      "key" : "File_Management_Controllers",
      "paperSize" : "A4_Portrait",
      "dimensions" : {
        "width" : 1858,
        "height" : 3025
      },
      "automaticLayout" : {
        "implementation" : "Graphviz",
        "rankDirection" : "LeftRight",
        "rankSeparation" : 300,
        "nodeSeparation" : 300,
        "edgeSeparation" : 0,
        "vertices" : false
      },
      "containerId" : "6",
      "externalContainerBoundariesVisible" : true,
      "elements" : [ {
        "id" : "12",
        "x" : 1079,
        "y" : 2517
      }, {
        "id" : "3",
        "x" : 329,
        "y" : 208
      }, {
        "id" : "7",
        "x" : 329,
        "y" : 808
      }, {
        "id" : "8",
        "x" : 1079,
        "y" : 808
      }, {
        "id" : "9",
        "x" : 329,
        "y" : 1408
      }, {
        "id" : "10",
        "x" : 1079,
        "y" : 1917
      } ],
      "relationships" : [ {
        "id" : "29"
      }, {
        "id" : "27",
        "vertices" : [ {
          "x" : 779,
          "y" : 1258
        }, {
          "x" : 1079,
          "y" : 1887
        } ]
      }, {
        "id" : "26",
        "vertices" : [ {
          "x" : 1079,
          "y" : 2367
        } ]
      }, {
        "id" : "25"
      }, {
        "id" : "31"
      } ]
    } ],
    "configuration" : {
      "branding" : { },
      "styles" : {
        "elements" : [ {
          "tag" : "Customer",
          "shape" : "Person"
        }, {
          "tag" : "GraphQL",
          "shape" : "Hexagon"
        }, {
          "tag" : "Front End",
          "shape" : "WebBrowser"
        }, {
          "tag" : "Event Driven",
          "shape" : "RoundedBox"
        }, {
          "tag" : "External",
          "background" : "#868e96",
          "shape" : "Component"
        }, {
          "tag" : "Database",
          "shape" : "Cylinder"
        }, {
          "tag" : "Software System",
          "background" : "#1168bd",
          "color" : "#ffffff"
        } ]
      },
      "terminology" : { },
      "lastSavedView" : "SystemLandscape"
    }
  }
}